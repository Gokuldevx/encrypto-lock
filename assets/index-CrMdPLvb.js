import{t as Te,c as Ie,r as o,j as e,S as Fe,a as me,u as he,b as Le,L as xe,d as v,U as Oe,e as Re,C as qe,K as _e,B as Ue,i as Ve,g as k,f as Me,G as Be,h as He,k as ze,s as Ke,F as Ye,R as pe,q as B,l as S,w as C,m as $,o as Ge,n as We,p as Je,v as N,x as te,T as Qe,y as Xe,z as $e,A as H,D as Ze,E as et,H as tt}from"./vendor-CQ_pfCUf.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const n of c)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(c){const n={};return c.integrity&&(n.integrity=c.integrity),c.referrerPolicy&&(n.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?n.credentials="include":c.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(c){if(c.ep)return;c.ep=!0;const n=r(c);fetch(c.href,n)}})();function b(...t){return Te(Ie(t))}const st=me("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-orange-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-[#f66435] text-white border-2 border-[#f4efca] hover:bg-[#f4efca] hover:text-[#f66435] hover:border-[#f66435] hover:shadow-lg active:scale-95",outline:"border-2 border-[#f66435] text-[#f66435] bg-[#f4efca] hover:border-[#f4efca] hover:text-[#f4efca] hover:bg-[#f66435] hover:shadow-lg active:scale-95",secondary:"bg-orange-400 text-[#f4efca] hover:bg-orange-500",ghost:"text-orange-600 hover:bg-orange-100",link:"text-orange-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=o.forwardRef(({className:t,variant:s,size:r,asChild:i=!1,...c},n)=>{const u=i?Fe:"button";return e.jsx(u,{className:b(st({variant:s,size:r,className:t})),ref:n,...c})});h.displayName="Button";const fe=()=>{const t=he(),s=Le(),r=s.pathname==="/",i=s.pathname.startsWith("/auth"),c=!r&&!i,n=()=>{t("/")};return e.jsx("nav",{className:"bg-[#f4efca] border-b-2 border-[#f66435] ",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16 items-center",children:[e.jsxs("h2",{className:" flex items-center gap-2 text-2xl font-extrabold text-gray-900 tracking-tight hover:opacity-80 transition-opacity",children:[e.jsx(xe,{className:"w-10 h-9 text-[#f66435]"}),"EncryptoLock"]}),e.jsx("div",{className:"flex gap-4 items-center",children:c?e.jsx(h,{onClick:n,children:"Log Out"}):r&&e.jsx(h,{onClick:()=>t("/auth/signIn"),children:"Sign Up / Login"})})]})})})},rt=()=>e.jsx("footer",{className:"bg-[#f66435] text-[#f4efca] py-12 mt-20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(v,{to:"/",className:"block",children:e.jsx("h2",{className:"text-3xl font-bold",children:"EncryptoLock"})}),e.jsx("p",{className:"text-lg text-gray-700 font-semibold",children:"Secure your sensitive data with industry-grade encryption."}),e.jsx("p",{className:"text-gray-700 font-semibold",children:"EncryptoLock empowers you to store and manage credentials safely while maintaining full control over your encrypted secrets."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Features"}),e.jsxs("nav",{className:"space-y-3",children:[e.jsx(v,{to:"/",className:"block text-gray-700 hover:text-[#f4efca]/80 transition-colors",children:"Encrypt Data"}),e.jsx(v,{to:"/",className:"block text-gray-700 hover:text-[#f4efca]/80 transition-colors",children:"Decrypt Data"}),e.jsx(v,{to:"/",className:"block text-gray-700 hover:text-[#f4efca]/80 transition-colors",children:"Audit Logs"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Support"}),e.jsxs("nav",{className:"space-y-3",children:[e.jsx(v,{to:"/faq",className:"block text-gray-700 hover:text-[#f4efca]/80 transition-colors",children:"FAQs"}),e.jsx(v,{to:"/contact",className:"block text-gray-700 hover:text-[#f4efca]/80 transition-colors",children:"Contact Support"}),e.jsx(v,{to:"/privacy",className:"block text-gray-700 hover:text-[#f4efca]/80 transition-colors",children:"Privacy Policy"})]})]})]})]}),e.jsx("div",{className:"mt-12 pt-8 border-t border-[#f4efca] text-center text-gray-600 text-sm",children:e.jsxs("p",{children:["© ",new Date().getFullYear()," EncryptoLock. All rights reserved."]})})]})}),at=()=>{const t=[{title:"Secure Encrypted Storage",description:"Your secrets are encrypted using AES-256 encryption with a unique key derived from your passphrase using PBKDF2 and a secure salt.",icon:e.jsx(xe,{className:"w-8 h-8 mb-4 text-orange-600"})},{title:"User Authentication & Access Control",description:"Only authenticated users can encrypt and decrypt their stored secrets. Secrets are linked to user accounts securely.",icon:e.jsx(Oe,{className:"w-8 h-8 mb-4 text-orange-600"})},{title:"HMAC Integrity Verification",description:"Each secret is protected with HMAC verification, ensuring its integrity and detecting unauthorized modifications or tampering.",icon:e.jsx(Re,{className:"w-8 h-8 mb-4 text-orange-600"})},{title:"Audit Trail & Logging",description:"Every encryption, decryption, and failed access attempt is logged in the audit trail for security monitoring and compliance.",icon:e.jsx(qe,{className:"w-8 h-8 mb-4 text-orange-600"})},{title:"Strong Key Derivation",description:"Keys are derived using PBKDF2 with a randomly generated salt, preventing brute-force attacks and enhancing security.",icon:e.jsx(_e,{className:"w-8 h-8 mb-4 text-orange-600"})},{title:"Real-time User Feedback",description:"Get instant notifications on encryption, decryption, and errors through user-friendly toast messages.",icon:e.jsx(Ue,{className:"w-8 h-8 mb-4 text-orange-600"})}];return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f4efca]",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl font-bold text-gray-900",children:["Secure Your Secrets with "," ",e.jsx("span",{className:"text-[#f66435] relative",children:"EncryptoLock"})]}),e.jsx("br",{}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-700 mb-20 max-w-3xl mx-auto",children:"Protect and organize your sensitive credentials with cutting-edge encryption. Experience security, simplicity, and reliability—without compromise."}),e.jsx("section",{className:"grid md:grid-cols-3 gap-8 mb-20",children:t.map((s,r)=>e.jsx("div",{className:"bg-white p-8 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.icon,e.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900",children:s.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description})]})},r))})]})})},nt=()=>e.jsxs("div",{className:"min-h-screen bg-#f4efca",children:[e.jsx(fe,{}),e.jsx("main",{children:e.jsx(at,{})}),e.jsx(rt,{})]}),ge={apiKey:"AIzaSyBDkQDJbXIP19Tt-zm3waBwsXtwsju4FDY",authDomain:"encryptolock.firebaseapp.com",projectId:"encryptolock",storageBucket:"encryptolock.firebasestorage.app",messagingSenderId:"204047820682",appId:"1:204047820682:web:d16114d606e6d9e6de0a73"};Object.entries(ge).forEach(([t,s])=>{if(!s)throw new Error(`Firebase configuration error: ${t} is not set. Please check your .env file.`)});const ye=Ve(ge),ct=k(ye),w=Me(ye),Y=new Be;Y.addScope("profile");Y.addScope("email");Y.setCustomParameters({prompt:"select_account"});const P=o.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:b("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));P.displayName="Card";const T=o.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:b("flex flex-col space-y-1.5 p-6",t),...s}));T.displayName="CardHeader";const be=o.forwardRef(({className:t,...s},r)=>e.jsx("h3",{ref:r,className:b("text-2xl font-semibold leading-none tracking-tight",t),...s}));be.displayName="CardTitle";const je=o.forwardRef(({className:t,...s},r)=>e.jsx("p",{ref:r,className:b("text-sm text-muted-foreground",t),...s}));je.displayName="CardDescription";const I=o.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:b("p-6 pt-0",t),...s}));I.displayName="CardContent";const ot=o.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:b("flex items-center p-6 pt-0",t),...s}));ot.displayName="CardFooter";const it=1,lt=1e6;let Z=0;function dt(){return Z=(Z+1)%Number.MAX_SAFE_INTEGER,Z.toString()}const ee=new Map,ue=t=>{if(ee.has(t))return;const s=setTimeout(()=>{ee.delete(t),q({type:"REMOVE_TOAST",toastId:t})},lt);ee.set(t,s)},ut=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,it)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===s.toast.id?{...r,...s.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=s;return r?ue(r):t.toasts.forEach(i=>{ue(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==s.toastId)}}},z=[];let K={toasts:[]};function q(t){K=ut(K,t),z.forEach(s=>{s(K)})}function mt({...t}){const s=dt(),r=c=>q({type:"UPDATE_TOAST",toast:{...c,id:s}}),i=()=>q({type:"DISMISS_TOAST",toastId:s});return q({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:c=>{c||i()}}}),{id:s,dismiss:i,update:r}}function ve(){const[t,s]=o.useState(K);return o.useEffect(()=>(z.push(s),()=>{const r=z.indexOf(s);r>-1&&z.splice(r,1)}),[t]),{...t,toast:mt,dismiss:r=>q({type:"DISMISS_TOAST",toastId:r})}}function ht(){const t=he(),[s,r]=o.useState(!1),{toast:i}=ve(),c=async()=>{try{r(!0),console.log("Starting Google authentication...");const n=await Ke(ct,Y);if(!n.user.email)throw new Error("No email provided from authentication provider");const u={name:n.user.displayName||"",email:n.user.email,photoURL:n.user.photoURL||"",uid:n.user.uid};t("/storage",{state:u,replace:!0})}catch(n){if(console.error("Auth error:",n),n instanceof Ye)switch(console.error("Firebase Auth Error:",n.code,n.message),n.code){case"auth/popup-closed-by-user":i({title:"Authentication Cancelled",description:"You closed the authentication window. Please try again.",variant:"default"});break;case"auth/popup-blocked":i({title:"Popup Blocked",description:"Please allow popups for this site and try again.",variant:"destructive"});break;case"auth/unauthorized-domain":i({title:"Domain Not Authorized",description:'Please add "localhost:5173" to authorized domains in Firebase Console.',variant:"destructive"}),console.error(`
              Firebase Domain Error: Please follow these steps:
              1. Go to Firebase Console
              2. Select your project
              3. Go to Authentication > Settings
              4. Add these domains:
                 - localhost
                 - localhost:5173
                 - 127.0.0.1
            `);break;default:i({title:"Authentication Error",description:n.message||"Failed to sign in. Please try again.",variant:"destructive"})}else i({title:"Authentication Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen bg-[#f4efca] flex items-center justify-center px-4",children:e.jsxs(P,{className:"w-full max-w-md bg-[#e5dbb5] shadow-lg border border-[#f66435]",children:[e.jsxs(T,{className:"text-center",children:[e.jsx(be,{className:"text-3xl text-[#f66435] font-bold",children:"Sign Up"}),e.jsx(je,{className:"text-gray-700",children:"Secure your secrets with EncryptoLock"})]}),e.jsx(I,{className:"space-y-6",children:e.jsxs(h,{variant:"outline",className:"w-full h-12 transition-all",onClick:c,disabled:s,children:[s?e.jsx(He,{className:"mr-2 h-5 w-5 animate-spin"}):e.jsx(ze,{className:"mr-2 h-5 w-5"}),"Continue with Google"]})})]})})}const xt=me("text-sm text-gray-800 font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),D=o.forwardRef(({className:t,...s},r)=>e.jsx(pe,{ref:r,className:b(xt(),t),...s}));D.displayName=pe.displayName;const j=o.forwardRef(({className:t,type:s,...r},i)=>e.jsx("input",{type:s,className:b("flex h-10 w-full rounded-md border border-[#f66435] bg-white text-gray-900 placeholder-[#f66435] px-3 py-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#f66435] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:i,...r}));j.displayName="Input";const pt=()=>{const{toast:t}=ve(),[s,r]=o.useState(""),[i,c]=o.useState([]),[n,u]=o.useState(!0),[G,y]=o.useState(!1),[W,_]=o.useState(!1),[U,se]=o.useState(""),[V,x]=o.useState(!1),[E,J]=o.useState(""),[re,F]=o.useState(""),[L,Q]=o.useState(null),[ae,X]=o.useState(""),[Ne,M]=o.useState(!1),[ne,Se]=o.useState([]),[A,O]=o.useState(""),R=async(a,l,d={})=>{try{await te(S(w,"audit_logs"),{userId:a,action:l,timestamp:Qe.now(),metadata:d})}catch(p){console.error("Error logging audit trail:",p)}};function ce(a,l){return N.PBKDF2(a,l,{keySize:256/32,iterations:1e5}).toString()}const we=async a=>{if(a.preventDefault(),!s||!U||!A){t({title:"Missing Fields",description:"Please fill out all fields.",variant:"destructive"});return}try{x(!0);const d=k().currentUser;if(!d){t({title:"Authentication Error",description:"User is not authenticated.",variant:"destructive"}),x(!1);return}const p=N.lib.WordArray.random(16).toString(),f=ce(A,p),m=N.HmacSHA256(U,f).toString(),g=N.AES.encrypt(U+"::"+m,f).toString();await te(S(w,"Secrets"),{userId:d.uid,secretName:s,secretValue:g,salt:p,createdAt:new Date().toISOString()}),t({title:"Success!",description:"Your secret has been encrypted and stored securely.",variant:"default"}),r(""),se(""),O(""),await R(d.uid,"Secret Encrypted",{secretName:s})}catch(l){console.error("Error saving secret:",l),t({title:"Error",description:"An error occurred while saving the secret. Please try again.",variant:"destructive"})}finally{x(!1)}},Ee=async a=>{if(a.preventDefault(),!E||!A){t({title:"Missing Fields",description:"Please provide the secret name and passphrase.",variant:"destructive"});return}try{x(!0);const d=k().currentUser;if(!d){t({title:"Authentication Error",description:"User is not authenticated.",variant:"destructive"}),x(!1);return}const p=B(S(w,"Secrets"),C("userId","==",d.uid),C("secretName","==",E)),f=await $(p);if(f.empty){t({title:"Not Found",description:"No secret found with the given name.",variant:"destructive"}),J(""),O(""),x(!1);return}const m=f.docs[0].data(),g=m.secretValue,ke=m.salt,ie=ce(A,ke),le=N.AES.decrypt(g,ie).toString(N.enc.Utf8);if(!le){await R(d.uid,"Secret Decryption Failed",{secretName:E}),t({title:"Decryption Failed",description:"Incorrect passphrase. Please try again.",variant:"destructive"}),x(!1);return}const[de,De]=le.split("::"),Pe=N.HmacSHA256(de,ie).toString();if(De!==Pe){await R(d.uid,"Secret Integrity Check Failed",{secretName:E}),t({title:"Integrity Check Failed",description:"Secret integrity check failed. Possible tampering detected.",variant:"destructive"}),x(!1);return}F(de),await R(d.uid,"Secret Decrypted",{secretName:E}),t({title:"Success!",description:"Secret decrypted successfully.",variant:"default"})}catch(l){console.error("Error decrypting secret:",l),t({title:"Error",description:"An error occurred while decrypting the secret. Please try again.",variant:"destructive"})}finally{J(""),O(""),x(!1)}},oe=async()=>{try{x(!0),u(!1),y(!1),_(!1),M(!1);const l=k().currentUser;if(!l){alert("User is not authenticated."),x(!1);return}const d=B(S(w,"Secrets"),C("userId","==",l.uid)),p=await $(d);if(p.empty){c([]),u(!0),x(!1);return}const f=p.docs.map(m=>m.data().secretName);c(f),u(!0)}catch(a){console.error("Error fetching secrets:",a),alert("An error occurred while fetching the secrets. Please try again.")}finally{x(!1)}};o.useEffect(()=>{oe()},[]);const Ae=async()=>{if(ae!=="delete"){alert('You must type "delete" to confirm deletion.');return}try{const l=k().currentUser;if(!l){alert("User is not authenticated.");return}const d=B(S(w,"Secrets"),C("userId","==",l.uid),C("secretName","==",L)),p=await $(d);if(p.empty){alert("Secret not found.");return}const f=p.docs.map(m=>Je(m.ref));await Promise.all(f),c(m=>m.filter(g=>g!==L)),Q(""),X(""),await R(l.uid,"Secret Deleted",{secretName:L})}catch(a){console.error("Error deleting secret:",a),alert("An error occurred while deleting the secret. Please try again.")}},Ce=async()=>{const l=k().currentUser;if(l)try{const d=B(S(w,"audit_logs"),C("userId","==",l.uid),Ge("timestamp","desc"));return We(d,f=>{try{const m=f.docs.map(g=>({id:g.id,userId:g.data().userId,action:g.data().action,timestamp:g.data().timestamp,metadata:g.data().metadata||{}}));Se(m)}catch(m){console.error("Error processing audit logs:",m)}})}catch(d){console.error("Error fetching audit logs:",d)}};return e.jsxs(e.Fragment,{children:[e.jsx(fe,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 bg-[#f4efca]",children:[e.jsx("div",{className:"flex justify-between items-center mb-8",children:e.jsx("h1",{className:"text-4xl font-bold text-[#f66435]",children:"Store Sensitive Credentials"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{onClick:()=>{oe(),F("")},children:"Home"}),e.jsx(h,{onClick:()=>{y(!0),_(!1),u(!1),M(!1),F("")},children:"Encrypt"}),e.jsx(h,{onClick:()=>{_(!0),y(!1),u(!1),M(!1),F("")},children:"Decrypt"}),e.jsx(h,{onClick:()=>{M(!0),y(!1),_(!1),u(!1),Ce(),F("")},children:"Audit Trail"})]}),e.jsx("br",{}),n&&e.jsxs(P,{className:"border-[#f66435] shadow-xl",children:[e.jsx(T,{className:"border-b border-[#f66435] bg-[#e5dbb5]",children:e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsx("h2",{className:"text-2xl font-bold text-[#f66435]",children:"Stored Secrets"})})}),e.jsxs(I,{className:"bg-[#e5dbb5]",children:[e.jsx("br",{}),i.length>0?e.jsx("ul",{className:"space-y-2",children:i.map((a,l)=>e.jsxs("li",{className:"flex justify-between items-center p-2 border rounded-lg shadow-sm transition bg-[#f4efca]",children:[e.jsx("span",{className:"text-gray-700",children:a}),e.jsx(h,{className:"bg-red-600 text-white hover:border-red-600 hover:text-red-600 px-3 py-1",onClick:()=>Q(a),children:"Delete"})]},l))}):e.jsx("p",{className:"text-gray-600",children:"No secrets found."}),L&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 space-y-4 w-96",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Confirm Delete Secret"}),e.jsxs("p",{className:"text-gray-600",children:["To delete the secret"," ",e.jsx("strong",{children:L}),", type"," ",e.jsx("strong",{children:"delete"})," below:"]}),e.jsx("input",{type:"text",placeholder:"Type 'delete' to confirm",value:ae,onChange:a=>X(a.target.value),className:"w-full border rounded p-2"}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(h,{className:"bg-gray-300 border-gray-300 text-gray-800 hover:bg-gray-400 hover:border-gray-400 hover:text-gray-900 px-4 py-2 rounded",onClick:()=>{Q(null),X("")},children:"Cancel"}),e.jsx(h,{className:"bg-red-600 border-red-600 text-white hover:bg-red-800 hover:text-white hover:border-red-800 px-4 py-2 rounded",onClick:Ae,children:"Confirm Delete"})]})]})})]})]}),G&&e.jsx(P,{className:"border-[#f66435] shadow-xl",children:e.jsxs("form",{onSubmit:we,children:[e.jsx(T,{className:"border-b border-[#f66435] bg-[#e5dbb5]",children:e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsx("h2",{className:"text-2xl font-bold text-[#f66435]",children:"Encryption Section"})})}),e.jsx(I,{className:"space-y-8 bg-[#e5dbb5]",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2 ",children:[e.jsx("br",{}),e.jsx(D,{htmlFor:"secretName",className:"text-left block",children:"Secret Name"}),e.jsx(j,{id:"secretName",placeholder:"Enter Secret Name",value:s,onChange:a=>r(a.target.value),required:!0})]}),e.jsx("br",{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{htmlFor:"secretValue",className:"text-left block",children:"Secret Value"}),e.jsx(j,{id:"secretValue",placeholder:"Secret to Encrypt",value:U,onChange:a=>se(a.target.value),required:!0})]}),e.jsx("br",{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{htmlFor:"passPhrase",className:"text-left block",children:"Enter Passphrase"}),e.jsx(j,{id:"passPhrase",type:"password",placeholder:"Enter PassPhrase",value:A,onChange:a=>O(a.target.value),required:!0})]}),e.jsx("br",{}),e.jsx("div",{className:"flex gap-2",children:e.jsx(h,{type:"submit",disabled:V,children:V?"Saving...":"Encrypt & Store"})})]})})})]})}),W&&e.jsx(P,{className:"border-[#f66435] shadow-xl",children:e.jsxs("form",{onSubmit:Ee,children:[e.jsx(T,{className:"border-b border-[#f66435] bg-[#e5dbb5]",children:e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsx("h2",{className:"text-2xl font-bold text-[#f66435]",children:"Decryption Section"})})}),e.jsx(I,{className:"space-y-8 bg-[#e5dbb5]",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("br",{}),e.jsx(D,{htmlFor:"decryptionSecretName",className:"text-left block",children:"Secret Name to Decrypt"}),e.jsx(j,{id:"decryptionSecretName",placeholder:"Enter Secret Name",value:E,onChange:a=>J(a.target.value),required:!0})]}),e.jsx("br",{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{htmlFor:"passPhrase",className:"text-left block",children:"Enter Passphrase"}),e.jsx(j,{id:"passPhrase",type:"password",placeholder:"Enter PassPhrase",value:A,onChange:a=>O(a.target.value),required:!0})]}),e.jsx("br",{}),e.jsx("div",{className:"flex gap-2",children:e.jsx(h,{type:"submit",disabled:V,children:V?"Decrypting...":"Decrypt"})}),e.jsx("br",{}),re&&e.jsx("div",{className:"mt-4",children:e.jsxs("pre",{className:"bg-[#d6c79f] p-2 rounded-md text-gray-900 text-sm text-left whitespace-pre-wrap break-words max-w-auto",children:["Decrypted Secret : ",re]})})]})})})]})}),Ne&&e.jsxs(P,{className:"border-[#f66435] bg-[#e5dbb5] shadow-xl ",children:[e.jsx(T,{className:"border-b border-[#f66435]",children:e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsx("h2",{className:"text-2xl font-bold bg-[#e5dbb5] text-[#f66435]",children:"Audit Trail"})})}),e.jsx("br",{}),e.jsx(I,{className:"space-y-6",children:ne.length===0?e.jsx("p",{className:"text-gray-500 text-center",children:"No logs available."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-[#f66435] shadow-sm rounded-lg overflow-hidden",children:[e.jsx("thead",{className:" bg-[#e5dbb5] text-[#f66435]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left font-bold text-[#f66435]",children:"Action"}),e.jsx("th",{className:"px-4 py-2 text-left font-bold text-[#f66435]",children:"Timestamp"}),e.jsx("th",{className:"px-4 py-2 text-left font-bold text-[#f66435]",children:"Details"})]})}),e.jsx("tbody",{children:ne.map((a,l)=>e.jsxs("tr",{className:`border-b border-[#f66435] ${l%2===0,"bg-[#e5dbb5]"} `,children:[e.jsx("td",{className:"px-4 py-2 bg-[#e5dbb5] text-gray-900 text-left",children:a.action}),e.jsx("td",{className:"px-4 py-2 bg-[#e5dbb5] text-gray-900 text-left",children:new Date(a.timestamp.seconds*1e3).toLocaleString()}),e.jsx("td",{className:"px-4 py-2 border-[#f66435] text-left block",children:Object.keys(a.metadata).length>0?e.jsx("pre",{className:"bg-[#d6c79f] p-2 rounded-md text-gray-900 text-sm whitespace-pre-wrap break-words max-w-xs",children:JSON.stringify(a.metadata,null,2)}):"N/A"})]},a.id))})]})})})]})]})]})},ft=()=>{const[t,s]=o.useState({name:"",email:"",message:""}),[r,i]=o.useState(!1),[c,n]=o.useState(!1),u=y=>{s({...t,[y.target.name]:y.target.value})},G=async y=>{if(y.preventDefault(),!t.name||!t.email||!t.message)return alert("All fields are required!");i(!0);try{await te(S(w,"support_requests"),{...t,createdAt:Xe()}),n(!0),s({name:"",email:"",message:""})}catch(W){console.error("Error submitting support request:",W)}i(!1)};return e.jsxs("div",{className:"max-w-lg mx-auto p-6 bg-[#e5dbb5] rounded-lg",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-700 mb-4",children:"Contact Support"}),c&&e.jsx("p",{className:"text-green-500",children:"Request submitted successfully! We'll get back to you soon."}),e.jsxs("form",{onSubmit:G,className:"space-y-4",children:[e.jsx(j,{name:"name",placeholder:"Your Name",value:t.name,onChange:u,required:!0}),e.jsx(j,{name:"email",placeholder:"Your Email",value:t.email,onChange:u,required:!0}),e.jsx("textarea",{name:"message",placeholder:"Your Message",value:t.message,onChange:u,className:" w-full rounded-md border border-[#f66435] bg-white text-gray-900 placeholder-[#f66435] px-3 py-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#f66435] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",rows:4,required:!0}),e.jsx(h,{type:"submit",disabled:r,children:r?"Submitting...":"Submit Request"})]})]})};function gt(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen",children:e.jsxs($e,{children:[e.jsx(H,{path:"/",element:e.jsx(nt,{})}),e.jsx(H,{path:"/auth/signIn",element:e.jsx(ht,{})}),e.jsx(H,{path:"/storage",element:e.jsx(pt,{})}),e.jsx(H,{path:"/contact",element:e.jsx(ft,{})})]})})})}Ze.createRoot(document.getElementById("root")).render(e.jsx(et.StrictMode,{children:e.jsx(tt,{basename:"/encrypto-lock",children:e.jsx(gt,{})})}));
